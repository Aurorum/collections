<div class="covid-timeline" data-module="track-links" data-track-category="pageElementInteraction" data-track-action="Timeline">
  <%= render "govuk_publishing_components/components/heading", {
    text: details.timeline["heading"],
    padding: true,
    margin_bottom: 2
  } %>

  <%= form_tag coronavirus_landing_page_path,
    method: :get,
    class: "js-change-location" do |f| %>

    <% if params[:nation] %>
      <p class="govuk-body">Showing updates for
        <span class="js-current-nation covid-timeline__nation"><%= params[:nation].titleize %></span>.
      </p>
    <% end %>

    <%= render "govuk_publishing_components/components/details", {
      title: "Change to another nation",
      data_attributes: {
        track_category: "pageElementInteraction",
        track_action: "TimelineNation",
        module: "govuk-details",
      }
    } do %>
      <%= render "govuk_publishing_components/components/radio", {
        name: "nation",
        heading: "Choose location",
        margin_bottom: 0,
        items: details.timeline_nations_items(params[:nation])
      } %>
      <div class="covid-timeline__button-wrapper">
        <%= render "govuk_publishing_components/components/button", {
          text: "View"
        } %>
      </div>
    <% end %>
  <% end %>

  <div id="nation-england" class="js-covid-timeline <%= 'covid-timeline__wrapper--hidden' unless !%w[northern-ireland scotland wales].include?(params[:nation]) %>">
    <p class="govuk-body">Demonstration: things about <strong class="govuk-tag govuk-tag--blue">England</strong></p>
  </div>

  <div id="nation-northern_ireland" class="js-covid-timeline <%= 'covid-timeline__wrapper--hidden' unless params[:nation] == "northern-ireland" %>">
    <p class="govuk-body">Demonstration: things about <strong class="govuk-tag govuk-tag--blue">Northern Ireland</strong></p>
  </div>

  <div id="nation-scotland" class="js-covid-timeline <%= 'covid-timeline__wrapper--hidden' unless params[:nation] == "scotland" %>">
    <p class="govuk-body">Demonstration: things about <strong class="govuk-tag govuk-tag--blue">Scotland</strong></p>
  </div>

  <div id="nation-wales" class="js-covid-timeline <%= 'covid-timeline__wrapper--hidden' unless params[:nation] == "wales" %>">
    <p class="govuk-body">Demonstration: things about <strong class="govuk-tag govuk-tag--blue">Wales</strong></p>
  </div>

  <% if details.timeline["summary"] %>
    <%= render_govspeak(details.timeline["summary"]) %>
  <% end %>

  <% details.timeline["list"].each do | item | %>
    <div class="covid-timeline__item">
      <%= render "govuk_publishing_components/components/heading", {
        text: item["heading"],
        heading_level: 3,
        font_size: "s",
        margin_bottom: 1,
      } %>
      <%= render_govspeak(item["paragraph"]) %>
    </div>
  <% end %>
</div>
