<%
  featured_item = section[:documents].shift(section[:promoted_content_count]).first
  documents = section[:documents].any?
  featured_item_layout_class = "taxon-page__featured-item--single" if !documents
%>

<div class="grid-row">
  <div class="taxon-page__featured-item column-one-third <%= featured_item_layout_class %>">
    <img class="taxon-page__featured-image" src="<%= featured_item[:image][:url] %>" alt="<%= featured_item[:image][:alt] %>">
    <div class="taxon-page__featured-text">
      <a class="taxon-page__featured-link" href="<%= featured_item[:link][:path] %>"><%= featured_item[:link][:text] %></a>
      <div class="taxon-page__featured-metadata-wrapper">
        <% featured_item[:metadata].each do |metadata_key, metadata_value| %>
          <% if metadata_key.to_s.eql?("public_updated_at") %>
            <time class="taxon-page__featured-metadata" datetime="<%= metadata_value.iso8601 %>">
              <%= l(metadata_value, format: '%e %B %Y') %>
            </time>
          <% else %>
            <p class="taxon-page__featured-metadata"><%= metadata_value %></p>
          <% end %>
        <% end %>
      </div>
    </div>
  </div>

  <div class="<%= documents ? "column-two-thirds" : "taxon-page__featured-see-more" %>">
    <%= render 'govuk_publishing_components/components/document_list',
      items: section[:documents],
      margin_top: true,
      margin_bottom: true
    %>
    <%= link_to(
      section[:see_more_link][:text],
      section[:see_more_link][:url]
    )%>
  </div>
</div>
