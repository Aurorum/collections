<% content_for :title, content["page_title"] %>
<% content_for :is_full_width_header, true %>

<header class="cost-of-living-hub__header">
  <%= render "shared/browse_header", { margin_bottom: 9, padding_top: 0 } do %>
    <%= render "shared/landing_page_header_heading", {
      breadcrumbs: breadcrumbs,
      title: content["header"]["heading"],
      inverse: true,
    } %>

  <%= render "shared/landing_page_header_content", {
    action_link_white_arrow: true,
    action_link_href: content["header"]["href"],
    action_link_text: content["header"]["link_text"],
    action_link_mobile_subtext: true,
    action_link_light_text: true,
    action_link_data: {
      module: "gem-track-click",
      track_category: "pageElementInteraction",
      track_action: "Header",
      track_label: content["header"]["href"],
    },
  } do %>
    <%= render "govuk_publishing_components/components/lead_paragraph", {
      text: content["header"]["lede"],
      inverse: true,
      margin_bottom: 2,
    } %>
  <% end %>
<% end %>
</header>

<% accordion_html = capture do %>
  <%= render "shared/links", { list: content["body"], list_index: content["body"].count } %>
<% end %>

<%
  accordion_contents = content["body"].map.with_index do |list, list_index|
    {
      heading: {
        text: list["heading"],
      },
      content: {
        html: render(partial: "shared/links", locals: {
          list: list["content"],
          list_index: list_index,
         }),
      },
      data_attributes: {
        "track-count": "accordionSection",
        "track-options": {
          "dimension114": list_index + 1
        },
      },
    }
  end
%>

<%= render "govuk_publishing_components/components/accordion", {
  items: accordion_contents
} %>


<div class="govuk-width-container">
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

      <div class="browse__section">
        <div data-module="toggle-attribute">

        </div>
      </div>

    </div>
  </div>
</div>
